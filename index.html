<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Star Wars RPG</title>
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <!-- <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Days+One" /> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style>
        *{
            border: 1px solid black; 
        }
        .theme{
            /* font-family: 'days-one'; */
            font-size: '30px';
            color: #FFE807;
            text-decoration: none;
            font-weight:bold;
            text-transform: uppercase;
            font-family: helvetica;
        }
        .player{
          flex-basis: 0 0 0;
        }
        .group{
          display: flex;
          align-items: flex-start;
        }

    </style>
</head>
<body>
<h1 class="theme">Star Wars RPG</h1>

<h4>Select a player to start the battle. Each player has developed in their own way. Make sure your health points (hp) does not go to 0. Try to attack the other players to win.</h4>
<br>
<h2>Character Selection:</h2>

<div class="characterSelection group w3-row">
<!-- Player 1 -->
    <div class="w3-card-4 w3-light-grey player" id="player1" style="width:50%">
        <div class="w3-container w3-center">
          <h3>Angry Darth Vader</h3>
          <img src="./assets/images/DarthVaderAngry.jpg" alt="Avatar" style="width:80%">
          <h5 class="heathPoints">HP: 500</h5>
        </div>
      </div>

<!-- Player 2 -->
      <div class="w3-card-4 w3-light-grey player" id="player2" style="width:50%">
        <div class="w3-container w3-center">
          <h3>All hail Yoda</h3>
          <img src="./assets/images/HailYoda.jpg" alt="Avatar" style="width:80%">
          <h5 class="heathPoints">HP: 900</h5>        
        </div>
      </div>

<!-- Player 3 -->
      <div class="w3-card-4 w3-light-grey player" id="player3" style="width:50%">
        <div class="w3-container w3-center">
          <h3>The rebels are ready</h3>
          <img src="./assets/images/RebelsReady.jpg" alt="Avatar" style="width:80%">
          <h5 class="heathPoints">HP: 100</h5>        
        </div>
      </div>

<!-- Player 4 -->
      <div class="w3-card-4 w3-light-grey player" id="player4" style="width:50%">
        <div class="w3-container w3-center">
          <h3>Gather everyone</h3>
          <img src="./assets/images/StarWarsCollection.jpg" alt="Avatar" style="width:80%">
          <h5 class="heathPoints">HP: 10,000</h5>
        </div>
      </div>

<!-- Player 5 -->
      <div class="w3-card-4 w3-light-grey player" id="player5" style="width:50%">
        <div class="w3-container w3-center">
          <h3>Storm trooper in action</h3>
          <img src="./assets/images/StormTrooper.jpg" alt="Avatar" style="width:80%">
          <h5 class="heathPoints">HP: 50</h5>
        </div>
      </div>
      
</div>
<br>
<h3>Your Character</h3>
<div class="yourCharacter group"></div>
<br>
<h3>Enemies Selection</h3>
<div class="group w3-cell m3 enemySelection"></div>
<br>
<h3>Fight</h3>
<div class="w3-cell m3 fightSelection"></div>
<button class="w3-black w3-hover-red w3-jumbo attack">Attack</button>
<br>
<h3>Opponent</h3>
<div class="group w3-cell m3 defender"></div>
<div class="messageBox"></div>

    <!--flex grid for charicters-->
    <!--fight section-->
    <!--flex grid for emimies available to attack. Only available after your charicter has been selected-->
    <!--flex grid for defender area. Only availble after the charicter has been selected-->
    <!--update the action that is happening-->
    <!--reset the game to the starting point-->

<script type="text/javascript">
$(document).ready(function(){

  var HP = [500, 900, 100, 10000, 50];

//Player selection aka lexical dive level 1
  $(".player").on("click", function(event) {
    if($('.enemy').length === 0 ) {
      $(this).appendTo(".yourCharacter");
      var iChooseYou = $(this).attr("id");
      console.log('Character selected: ' + iChooseYou);
      var playerHP = HP[iChooseYou.slice(6,7)-1];
      console.log(playerHP);
      console.log('CharacterHP: ' + (iChooseYou+'HP'));
      var characterArray = ['player1', 'player2', 'player3', 'player4', 'player5'];    
      for (var i = 0; i < characterArray.length; i++) {
        if ( characterArray[i] === iChooseYou) {
          characterArray.splice(i, 1);
        } 
      }
      $(".characterSelection").children().appendTo(".enemySelection");
      $(".enemySelection").children().removeClass("player").addClass("enemy");
      $(".enemy").attr("onclick", "").unbind("click");
//first enemy selection aka lexical dive level 2  
        $(".enemy").on("click", function(event) {
          console.log('Enemy selected: ' + this);
          if($('.opponent').length === 0 ) {
            $(this).appendTo(".defender");
            var enemy = $(this).attr("id");
            console.log('Enemy:' + enemy);
            var enemyHP = HP[Number(enemy.slice(6,7)-1)];
            console.log(enemyHP);
            var enemyArray = characterArray;
            for (var i = 0; i < enemyArray.length; i++) {
              if( enemyArray[i] === enemy) {
              enemyArray.splice(i, 1);
            }
          }
          $(".defender").children().removeClass("enemy").addClass("opponent");
        }
        })

        $('.attack').on("click", function() {
          console.log('opponent:' + $('.opponent').length);
          console.log(playerHP);
          var ouch = 0; 

                if(playerHP>ouch) {   //round 1 
                  var coinFlip = [
                    {
                      name: 'Weak Hit',
                      hit: [5, 10, 20, 12, 15, 4, 2, 1, 30, 25, 26, 10, 18, 32, 60]
                    },
                    {
                      name: 'Strong Hit',
                      hit: [50, 80, 100, 40, 60, 75, 82, 67, 68, 92, 65, 50, 2]
                    }
                    ]; 
                  var coinResult = coinFlip[Math.floor(Math.random()*coinFlip.length)].hit;
                  console.log(coinResult.length);
                  var hit = coinResult[Math.floor(Math.random()*coinResult.length)];      
                  console.log('hit: ' + hit);
                  var ouch = ouch + hit;
                  console.log('ouch: ' + ouch);     
                  playerHP = playerHP - hit;
                  console.log('HP: ' + playerHP);
                } else if (playerHP<0) {
                  $('.messageBox').text('Please select your next opponent.');
                  $('.opponent').remove();

                } //end of the if hp < ouch
         //   }
        });   //end of the attack click
        };

        // do { }
        // while ();
          //add attack button 
        


      //  } //end of enemy selection
        } //end of if enemy selection is 0
      ) //end of .player click   
    
    
   

  


  


}); //end of document.ready




    
    
</script>
</body>
</html>